# üìÑ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –ó–∞–¥–∞–Ω–∏–µ (–¢–ó): –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π 2.5D –ú–∞–Ω–µ–∫–µ–Ω (Next.js Monolith)

## I. –û–±—â–µ–µ –û–ø–∏—Å–∞–Ω–∏–µ –ü—Ä–æ–µ–∫—Ç–∞

### 1.1. –¶–µ–ª—å

–°–æ–∑–¥–∞–Ω–∏–µ –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ, —Ñ–æ—Ç–æ—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–≥–æ –≤–µ–±-–º–æ–¥—É–ª—è –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∫–æ—Å—Ç—é–º–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ 360¬∞ —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –º—ã—à—å—é. –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –µ–¥–∏–Ω–æ–µ Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –æ–±—Å–ª—É–∂–∏–≤–∞—é—â–µ–µ –∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥, –∏ API.

### 1.2. –°—Ç–µ–∫ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–π

| –°–ª–æ–π          | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è                   | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                            |
| :------------ | :--------------------------- | :-------------------------------------------------------------------- |
| **Fullstack** | **Next.js 14+** (App Router) | –ï–¥–∏–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Frontend (React) –∏ Backend (API Routes).         |
| **–†–µ–Ω–¥–µ—Ä–∏–Ω–≥** | **PixiJS** / HTML5 Canvas    | –ê–ø–ø–∞—Ä–∞—Ç–Ω–æ-—É—Å–∫–æ—Ä–µ–Ω–Ω—ã–π –∫–æ–º–ø–æ–∑–∏—Ç–∏–Ω–≥ —Å–ª–æ–µ–≤ –∏ –∞–Ω–∏–º–∞—Ü–∏—è (Client Component). |
| **–ê—Å—Å–µ—Ç—ã**    | **CDN / Local Static**       | –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø—Ä–∞–π—Ç-–ª–∏—Å—Ç–æ–≤ –∏–ª–∏ –∫–∞–¥—Ä–æ–≤.                                    |

---

## II. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –°—Ç–µ–∫–∞

### 2.1. Next.js App Router ‚öôÔ∏è‚öõÔ∏è

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –∫–∞–∫ –º–æ–Ω–æ–ª–∏—Ç –Ω–∞ Next.js.

- **Frontend:**
  - `app/models/[id]/page.tsx`: SSR —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ–¥—É–∫—Ç–∞. –ó–∞–≥—Ä—É–∂–∞–µ—Ç –º–∞–Ω–∏—Ñ–µ—Å—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
  - `components/MannequinViewer.tsx`: –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å PixiJS.
- **Backend API:**
  - `app/api/v1/models/[id]/manifest/route.ts`: API Route Handler. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON-–º–∞–Ω–∏—Ñ–µ—Å—Ç –º–æ–¥–µ–ª–∏.
  - –ó–∞–º–µ–Ω—è–µ—Ç —Å–æ–±–æ–π –æ—Ç–¥–µ–ª—å–Ω—ã–π NestJS —Å–µ—Ä–≤–∏—Å, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –ø—Ä–æ—Å—Ç–æ—Ç—É –¥–µ–ø–ª–æ—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏.

### 2.2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –î–∞–Ω–Ω—ã–º–∏

- **Manifest API:** –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é SKU, —Å—Å—ã–ª–∫–∏ –Ω–∞ –∞—Å—Å–µ—Ç—ã (–ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–ª–∏ CDN) –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–Ω–∏–º–∞—Ü–∏–∏.

---

## III. –ü–∞–π–ø–ª–∞–π–Ω –ê—Å—Å–µ—Ç–æ–≤ (Offline)

1.  **–°—ä–µ–º–∫–∞:** 2 –∫–∞–¥—Ä–∞ (0¬∞ –∏ 180¬∞).
2.  **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è:** ~36-72 –∫–∞–¥—Ä–∞ —á–µ—Ä–µ–∑ AI.
3.  **–°–±–æ—Ä–∫–∞:** Sprite Sheet –∏–ª–∏ –Ω–∞–±–æ—Ä –∫–∞–¥—Ä–æ–≤.

---

## IV. –ú–æ–¥—É–ª–∏ –∏ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### 4.1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞ (Next.js Standard)

- `/app`
  - `/api`: Backend –ª–æ–≥–∏–∫–∞ (Manifest API).
  - `/models`: –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–æ–¥—É–∫—Ç–æ–≤.
- `/components`: UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (`MannequinViewer`, `SKUSelector`).
- `/services`: –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (`RotationService`).
- `/public`: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞—Å—Å–µ—Ç—ã (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —Å–ø—Ä–∞–π—Ç—ã).

### 4.2. –ö–ª—é—á–µ–≤—ã–µ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç                 | –û–ø–∏—Å–∞–Ω–∏–µ                                                        |
| :------------------------ | :-------------------------------------------------------------- |
| **`MannequinViewer.tsx`** | PixiJS –≤—å—é–µ—Ä. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Sprite Sheets –∏ –ø–æ–∫–∞–¥—Ä–æ–≤—É—é –∞–Ω–∏–º–∞—Ü–∏—é. |
| **`Manifest Route`**      | API —ç–Ω–¥–ø–æ–∏–Ω—Ç, –æ—Ç–¥–∞—é—â–∏–π JSON —Å—Ç—Ä—É–∫—Ç—É—Ä—É –º–æ–¥–µ–ª–∏.                   |

---

## V. –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### 5.1. –ê–Ω–∏–º–∞—Ü–∏—è

- –í—Ä–∞—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –¥–≤–∏–∂–µ–Ω–∏–µ –º—ã—à–∏.
- –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è: –∏–Ω–µ—Ä—Ü–∏—è —á–µ—Ä–µ–∑ GSAP Draggable.

### 5.2. –°–º–µ–Ω–∞ SKU

- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ø–æ–¥–≥—Ä—É–∑–∫–∞ —Ç–µ–∫—Å—Ç—É—Ä –ø—Ä–∏ —Å–º–µ–Ω–µ —Ü–≤–µ—Ç–∞/–º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–ª–∏ UI.

---

## VI. –°—Ö–µ–º–∞ –î–∞–Ω–Ω—ã—Ö (JSON Manifest)

```json
GET /api/v1/models/SLIM_FIT/manifest

{
  "modelId": "SLIM_FIT",
  "rotationFrames": 72,
  "skus": [
    {
      "skuId": "SLIM_NAVY",
      "framesPath": "/costum"
    }
  ]
}
```
